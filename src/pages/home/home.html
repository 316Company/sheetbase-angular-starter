<ion-header>
  <ion-navbar>
    <ion-title>
      Sheetbase App
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>

  <section style="margin-bottom: 50px;">
    <h1>Welcome!</h1>
    <p>Welcome to Sheetbase, let's make something awesome! :D. If you get lost, the <a href="https://sheetbase.net/docs">docs</a> will be your guide.</p>
    <p><a href="https://sheetbase.net" target="_blank">Visit Homepage</a></p>
  </section>

  <section>
    <h1>Your data</h1>

    <!-- tables -->
    <ion-grid>
      <ion-row>
        <ion-col col-12 col-md-10>
          <button ion-button color="light" *ngFor="let item of sheetbase.db()?.tables" (click)="itemsByTable(item.name)">
            {{ item.name }}
            <ion-badge item-right *ngIf="item.autoload">AUTO</ion-badge>
          </button>
        </ion-col>
        <ion-col col-12 col-md-2>
          <a ion-button color="dark" [href]="'https://docs.google.com/spreadsheets/d/'+ sheetbase.db()?.id + '/edit'" target="_blank">Edit data</a>
        </ion-col>
      </ion-row>
    </ion-grid>

    <!-- Data list -->
    <table class="table table-bordered table-light">
      <thead>
        <tr>
          <th style="width: 10%;">#</th>
          <th style="width: 60%;">Title</th>
          <th style="width: 30%;">$Key</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngIf="!items">
          <td colspan="3">Click the table name to view the data.</td>
        </tr>
        <tr *ngIf="items && items.length < 1" style="text-align: center;">
          <td colspan="3"><ion-spinner></ion-spinner></td>
        </tr>
        <tr class="item" *ngFor="let item of items; let i = index" (click)="logItem(item)">
          <td>{{ i+1 }}</td>
          <td>{{ item.title || item.name }}</td>
          <td>{{ item.$key }}</td>
        </tr>
      </tbody>
    </table>

    <p>The result viewing here is limit to first 100 items for view performance.</p>

  </section>

</ion-content>
